/* ===== MOBILE landscape (<=950px, touch) ===== */
@media (max-width: 950px) and (hover:none) and (pointer:coarse) and (orientation:landscape){
  /* layout */
  #screen-app{ height: 100dvh; }
  .stage  {grid-area: stage;margin-top: 5vh;margin-bottom: 5vh;}
  .footer { grid-area: footer; display:block; grid-row-start:1; align-content:center; }
  .sidebar{ display:none !important; }

  /* footer carousel */
  .foot-swipe{
    display:flex;
    overflow-x:auto;
    scroll-snap-type:x mandatory;
    -webkit-overflow-scrolling:touch;
    scrollbar-width:none;
    -ms-overflow-style:none;
  }
  .foot-swipe::-webkit-scrollbar{ display:none; }
  .foot-pane{scroll-snap-align:start;flex: 0 0 0 100%;padding: 0 0 0 12px;}
  .foot-pane.sidebar-pane .list{
    margin:0;
    padding:10px;
    overflow:auto;
    border:1px solid var(--line);
    border-radius:var(--radius);
    background:var(--panel);
    min-width: 100%;
  }
  .btn.send{ display:block; width:100%; }

  /* dots (пейджер) */
  .foot-dots{
    display:flex; justify-content:center; align-items:center; gap:10px;
    padding:5px;
  }
  .foot-dots .fdot{
    width:12px; height:16px; border-radius:50%;
    background:transparent; border:2px solid var(--dots);
    opacity:.85; transform:scale(.95);
    transition:transform .18s ease, opacity .18s ease, background .18s ease, border-color .18s ease;
  }
  .foot-dots .fdot.active{
    background:var(--dots); border-color:var(--dots);
    opacity:1; transform:scale(1.1);
  }
  .foot-dots .fdot:focus-visible{
    outline:2px solid rgba(255,255,255,.6); outline-offset:2px;
  }

  /* tiles: равномерная сетка 16:9 по центру */
  .tiles{
    display:flex !important;
    align-items:center; justify-content:center;
    height:100%; min-height:0; margin:10px;
    font-size:14px; /* стабильный размер на моб. горизонтали */
  }
  .tiles-main{
    display:grid;
    grid-template-columns: repeat(var(--grid-cols, 2), 1fr);
    grid-auto-rows: var(--cell-h, 140px);
    gap: var(--tile-gap);
    align-content: center;
    justify-items: stretch;
    height:auto;
  }
  .tile{
    width:100%; height:100%;
    aspect-ratio:16/9 !important;
  }
  .tile.me, .tile.has-avatar{ aspect-ratio:16/9 !important; }

  /* если на десктопе карусель «сплющена» — вернём отображение */
  .foot-swipe, .foot-pane, .foot-dots{display: flex;min-width: 100%;}
}

/* ===== DESKTOP (>=641px): нормализуем tiles ===== */
@media (min-width: 641px){
  .tiles{ font-size: clamp(14px, 1.1vw, 18px); }
  .tiles-main{ place-items:stretch; align-content:start; }
  .tile{ width:100%; height:auto; aspect-ratio:16/9; }
  .tile .name{ font-size:.9em; }
  .ctrl{ font-size:1em; }
  .vol{ font-size:.9em; }
}
 #screen-app{
  grid-template-areas:
      "sidebar stage"
      "footer  stage";
    min-height: 100vh;
    height: 100dvh;
  }
